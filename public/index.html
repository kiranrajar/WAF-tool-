<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYNAPSE | Neural SOC & Security Analytics</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <aside>
        <div class="logo">
            <span class="logo-shield">üß†</span> SYNAPSE <span style="font-weight: 300; opacity: 0.8;">NEURAL</span>
        </div>
        <nav>
            <div class="nav-item active" onclick="switchPage('overview')">
                <span>üìä</span> Overview
            </div>
            <div class="nav-item" onclick="switchPage('traffic')">
                <span>üì°</span> Traffic Monitor
            </div>
            <div class="nav-item" onclick="switchPage('intelligence')">
                <span>üß†</span> AI & Intelligence
            </div>
            <div class="nav-item" onclick="switchPage('settings')">
                <span>‚öôÔ∏è</span> Engine Settings
            </div>
        </nav>
        <div class="nav-item" style="margin-top: auto; opacity: 0.5; font-size: 0.7rem; letter-spacing: 1px;">
            <span>üîì</span> NEURAL_CORE v3.2.1
        </div>
    </aside>

    <main id="main-content">
        <!-- Overview Page -->
        <div id="page-overview" class="page">
            <header>
                <div class="page-title">
                    <p>Security Operations Center</p>
                    <h1>Global Threat Landscape</h1>
                </div>
                <div class="header-actions">
                    <button class="secondary" onclick="syncThreatFeeds()">üß† Sync Neural Feed</button>
                    <button onclick="toggleSystem()" style="box-shadow: 0 0 15px var(--accent-glow)">üì° LINK
                        ACTIVE</button>
                </div>
            </header>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="label">Total Requests</div>
                    <div class="value" id="stat-total">0</div>
                    <div class="trend up"><span>‚Üë</span> 12% vs last hour</div>
                </div>
                <div class="stat-card">
                    <div class="label">Blocked Threats</div>
                    <div class="value" id="stat-blocked" style="color: var(--danger);">0</div>
                    <div class="trend down"><span>‚Üì</span> 3% vs last hour</div>
                </div>
                <div class="stat-card">
                    <div class="label">Detection Accuracy</div>
                    <div class="value" id="stat-ai">99.8%</div>
                    <div class="trend up" style="color: var(--accent)"><span>‚Üë</span> SYNAPSE-LLM v3.1</div>
                </div>
                <div class="stat-card">
                    <div class="label">Threat DB Size</div>
                    <div class="value" id="stat-db">0</div>
                    <div class="trend">Static Data Indexed</div>
                </div>
            </div>

            <div class="controls" style="margin-top: 24px;">
                <div class="section">
                    <div class="section-header">
                        <h2>Real-time Traffic Metrics</h2>
                    </div>
                    <div style="padding: 24px; height: 300px;">
                        <canvas id="trafficChart"></canvas>
                    </div>
                </div>
                <div class="section">
                    <div class="section-header">
                        <h2>Threat Distribution</h2>
                    </div>
                    <div style="padding: 24px; height: 300px;">
                        <canvas id="threatChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="section" style="margin-top: 24px;">
                <div class="section-header">
                    <h2>Live Security Events</h2>
                    <button class="secondary" style="padding: 5px 12px; font-size: 0.7rem;"
                        onclick="location.reload()">Refresh</button>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Source IP</th>
                            <th>Origin</th>
                            <th>OSI Layer</th>
                            <th>Event Type</th>
                            <th>Risk Score</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="log-table-body">
                        <!-- Rows populated by JS -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Traffic Monitor Page -->
        <div id="page-traffic" class="page" style="display: none;">
            <header>
                <div class="page-title">
                    <p>Deep Packet Inspection</p>
                    <h1>Unified Traffic Monitor</h1>
                </div>
            </header>
            <div class="section">
                <div class="section-header">
                    <h2>Live Payload Feed</h2>
                    <div class="header-actions" style="gap: 10px; display: flex;">
                        <input type="text" placeholder="Search IP/Endpoint..." id="traffic-search"
                            style="padding: 4px 8px; font-size: 0.7rem; border-radius: 4px; width: 200px;">
                        <button class="secondary" style="padding: 5px 12px; font-size: 0.7rem;"
                            onclick="fetchTrafficLogs()">Refresh Feed</button>
                    </div>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Client IP</th>
                            <th>Method</th>
                            <th>Endpoint</th>
                            <th>Payload (Raw)</th>
                            <th>Risk</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="traffic-log-body">
                        <!-- Full traffic logs -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Intelligence Page -->
        <div id="page-intelligence" class="page" style="display: none;">
            <header>
                <div class="page-title">
                    <p>Neural Core Analytics</p>
                    <h1>AI Model & Neural Intelligence</h1>
                </div>
            </header>
            <div class="controls">
                <div class="section">
                    <div class="section-header">
                        <h2>Neural Config (Active)</h2>
                    </div>
                    <div style="padding:24px;">
                        <div class="input-group">
                            <label>Neural Model Profile</label>
                            <select id="ai-version">
                                <option value="synapse-v3.1-llm" selected>SYNAPSE-LLM v3.1 (Quantized)</option>
                                <option value="ms-defender">Signature-Direct (Defender)</option>
                                <option value="v1.0">Legacy Heuristic</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Neural Risk Threshold: <span id="risk-value">0.85</span></label>
                            <input type="range" min="0" max="1" step="0.05" value="0.85" id="risk-range"
                                oninput="updateRiskValue(this.value)">
                        </div>
                        <button onclick="saveEngineConfig()">Apply Neural Weights</button>
                    </div>
                </div>
                <div class="section">
                    <div class="section-header">
                        <h2>Intel Feed Status</h2>
                    </div>
                    <div style="padding:24px;">
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 20px;">
                            Active threat data pools currently synchronized:
                        </p>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.8rem; border-bottom: 1px solid var(--border); padding-bottom: 8px;">
                                <span>IPsum Malicious DB</span>
                                <span style="color: var(--success);">ACTIVE [Live]</span>
                            </div>
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.8rem; border-bottom: 1px solid var(--border); padding-bottom: 8px;">
                                <span>Blocklist.de Global</span>
                                <span style="color: var(--success);">ACTIVE [Live]</span>
                            </div>
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.8rem; border-bottom: 1px solid var(--border); padding-bottom: 8px;">
                                <span>AlienVault OTX Pulse</span>
                                <span style="color: var(--warning);">SYNCING...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Engine Settings Page -->
        <div id="page-settings" class="page" style="display: none;">
            <header>
                <div class="page-title">
                    <p>Global Configuration</p>
                    <h1>SYNAPSE Engine Settings</h1>
                </div>
            </header>
            <div class="controls">
                <div class="section">
                    <div class="section-header">
                        <h2>System Policy</h2>
                    </div>
                    <div style="padding:24px;">
                        <div class="input-group">
                            <label>Protection Mode</label>
                            <select id="protection-mode">
                                <option value="blocking">Active Blocking (Commercial)</option>
                                <option value="monitoring">Monitoring Only (Evasion Detection)</option>
                                <option value="stealth">Stealth Mode (Socket Destroy)</option>
                                <option value="lockdown">Emergency Lockdown</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Upstream Target URL</label>
                            <input type="text" id="target-url" placeholder="http://internal-app:5000">
                        </div>
                        <div class="input-group">
                            <label>Blocked Geographies (ISO Codes)</label>
                            <input type="text" id="blocked-countries" placeholder="CN, RU, KP">
                        </div>
                        <button onclick="saveEngineConfig()">Synchronize Global Policy</button>
                    </div>
                </div>
                <div class="section">
                    <div class="section-header">
                        <h2>Infrastructure Status</h2>
                    </div>
                    <div style="padding:24px; font-size: 0.85rem; line-height: 2;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Reverse Proxy:</span>
                            <span style="color: var(--accent);">STABLE</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Neural Core:</span>
                            <span style="color: var(--accent);">v3.1_PROD</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Memory Usage:</span>
                            <span style="color: var(--text-primary);">124MB / 512MB</span>
                        </div>
                        <hr style="border: none; border-top: 1px solid var(--border); margin: 15px 0;">
                        <p style="color: var(--text-muted); font-size: 0.75rem;">
                            All system changes are logged to the forensic audit log immediately upon synchronization.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="dashboard.js"></script>
</body>

</html>