<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYNAPSE | Endpoint Neural Defense (SEND)</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <aside>
        <div class="logo">
            <span class="logo-shield">üõ°Ô∏è</span> SYNAPSE <span style="font-weight: 300; opacity: 0.8;">ENDPOINT</span>
        </div>
        <nav>
            <div class="nav-item active" onclick="switchPage('overview')">
                <span>üìä</span> Overview
            </div>
            <div class="nav-item" onclick="switchPage('traffic')">
                <span>üì°</span> Network Streams
            </div>
            <div class="nav-item" onclick="switchPage('system')">
                <span>üñ•Ô∏è</span> System Health
            </div>
            <div class="nav-item" onclick="switchPage('intelligence')">
                <span>üß†</span> Neural Logic
            </div>
            <div class="nav-item" onclick="switchPage('settings')">
                <span>‚öôÔ∏è</span> Machine Policy
            </div>
        </nav>
        <div class="nav-item" style="margin-top: auto; opacity: 0.5; font-size: 0.7rem; letter-spacing: 1px;">
            <span>üîì</span> ENDPOINT_SOLUTIONS v4.0.0
        </div>
    </aside>

    <main id="main-content">
        <!-- Overview Page -->
        <div id="page-overview" class="page">
            <header>
                <div class="page-title">
                    <p>Endpoint Protection Center</p>
                    <h1>Unified Threat Surface</h1>
                </div>
                <div class="header-actions">
                    <button class="secondary" onclick="syncThreatFeeds()">üß† Sync Neural Feed</button>
                    <button onclick="toggleSystem()" style="box-shadow: 0 0 15px var(--accent-glow)">üõ°Ô∏è OS
                        PROTECTED</button>
                </div>
            </header>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="label">System Connections</div>
                    <div class="value" id="stat-total">0</div>
                    <div class="trend up"><span>‚Üë</span> Monitoring L3/L4/L7</div>
                </div>
                <div class="stat-card">
                    <div class="label">Prevented Attacks</div>
                    <div class="value" id="stat-blocked" style="color: var(--danger);">0</div>
                    <div class="trend down"><span>‚Üì</span> Active System Guard</div>
                </div>
                <div class="stat-card">
                    <div class="label">Neural Integrity</div>
                    <div class="value" id="stat-ai">99.8%</div>
                    <div class="trend up" style="color: var(--accent)"><span>‚Üë</span> Synapse-SEND v4.0</div>
                </div>
                <div class="stat-card">
                    <div class="label">System CPU Load</div>
                    <div class="value" id="stat-sys-cpu">0%</div>
                    <div class="trend">Neural Core Managed</div>
                </div>
            </div>

            <div class="controls" style="margin-top: 24px;">
                <div class="section">
                    <div class="section-header">
                        <h2>Real-time Traffic Metrics</h2>
                    </div>
                    <div style="padding: 24px; height: 300px;">
                        <canvas id="trafficChart"></canvas>
                    </div>
                </div>
                <div class="section">
                    <div class="section-header">
                        <h2>Threat Distribution</h2>
                    </div>
                    <div style="padding: 24px; height: 300px;">
                        <canvas id="threatChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="section" style="margin-top: 24px;">
                <div class="section-header">
                    <h2>Live Security Events</h2>
                    <button class="secondary" style="padding: 5px 12px; font-size: 0.7rem;"
                        onclick="location.reload()">Refresh</button>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Source IP</th>
                            <th>Origin</th>
                            <th>OSI Layer</th>
                            <th>Event Type</th>
                            <th>Risk Score</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="log-table-body">
                        <!-- Rows populated by JS -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Traffic Monitor Page -->
        <div id="page-traffic" class="page" style="display: none;">
            <header>
                <div class="page-title">
                    <p>Deep Packet Inspection</p>
                    <h1>Unified Traffic Monitor</h1>
                </div>
            </header>
            <div class="section">
                <table class="log-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Target IP</th>
                            <th>Proto</th>
                            <th>Endpoint</th>
                            <th>Payload Intent</th>
                            <th>Risk</th>
                            <th>State</th>
                        </tr>
                    </thead>
                    <tbody id="traffic-log-body">
                        <!-- Full traffic logs -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- System Page -->
        <div id="page-system" class="page" style="display: none;">
            <header>
                <div class="page-title">
                    <p>OS Diagnostic Layer</p>
                    <h1>Neural System Health</h1>
                </div>
            </header>
            <div class="controls">
                <div class="section">
                    <div class="section-header">
                        <h2>Hardware Utilization</h2>
                    </div>
                    <div style="padding:40px; text-align: center;">
                        <div style="font-size: 3rem; font-weight: 800; color: var(--accent)" id="sys-cpu-val">0%</div>
                        <div style="color: var(--text-secondary); margin-bottom: 20px;">Current CPU Load</div>

                        <div
                            style="height: 10px; background: rgba(255,255,255,0.05); border-radius: 5px; overflow: hidden;">
                            <div id="cpu-bar"
                                style="height: 100%; background: var(--accent); width: 0%; transition: width 0.5s ease;">
                            </div>
                        </div>
                    </div>
                    <div style="padding: 0 24px 24px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span>Memory Utilization</span>
                            <span id="sys-mem-val">0%</span>
                        </div>
                        <div
                            style="height: 6px; background: rgba(255,255,255,0.05); border-radius: 3px; overflow: hidden;">
                            <div id="mem-bar"
                                style="height: 100%; background: var(--neon-pink); width: 0%; transition: width 0.5s ease;">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="section">
                    <div class="section-header">
                        <h2>Infrastructure Telemetry</h2>
                    </div>
                    <div style="padding:24px;">
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: var(--text-secondary)">OS Platform:</span>
                                <span id="sys-platform" style="color: var(--accent)">Detecting...</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: var(--text-secondary)">Uptime:</span>
                                <span id="sys-uptime" style="color: var(--text-primary)">Calculating...</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: var(--text-secondary)">Network Inbound:</span>
                                <span id="sys-net-in">0 bps</span>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: var(--text-secondary)">Network Outbound:</span>
                                <span id="sys-net-out">0 bps</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Intelligence Page -->
        <div id="page-intelligence" class="page" style="display: none;">
            <header>
                <div class="page-title">
                    <p>Neural Core Analytics</p>
                    <h1>AI Model & Neural Intelligence</h1>
                </div>
            </header>
            <div class="controls">
                <div class="section">
                    <div class="section-header">
                        <h2>Neural Config (Active)</h2>
                    </div>
                    <div style="padding:24px;">
                        <div class="input-group">
                            <label>Neural Model Profile</label>
                            <select id="ai-version">
                                <option value="synapse-v3.1-llm" selected>SYNAPSE-LLM v3.1 (Quantized)</option>
                                <option value="ms-defender">Signature-Direct (Defender)</option>
                                <option value="v1.0">Legacy Heuristic</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Neural Risk Threshold: <span id="risk-value">0.85</span></label>
                            <input type="range" min="0" max="1" step="0.05" value="0.85" id="risk-range"
                                oninput="updateRiskValue(this.value)">
                        </div>
                        <button onclick="saveEngineConfig()">Apply Neural Weights</button>
                    </div>
                </div>
                <div class="section">
                    <div class="section-header">
                        <h2>Intel Feed Status</h2>
                    </div>
                    <div style="padding:24px;">
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 20px;">
                            Active threat data pools currently synchronized:
                        </p>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.8rem; border-bottom: 1px solid var(--border); padding-bottom: 8px;">
                                <span>AlienVault OTX Pulse</span>
                                <span style="color: var(--success);">ACTIVE [Live]</span>
                            </div>
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.8rem; border-bottom: 1px solid var(--border); padding-bottom: 8px;">
                                <span>Honeytoken Deception</span>
                                <span style="color: var(--success);">READY [Traps Set]</span>
                            </div>
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.8rem; border-bottom: 1px solid var(--border); padding-bottom: 8px;">
                                <span>CVE Virtual Patching</span>
                                <span style="color: var(--accent);">PATROL ACTIVE</span>
                            </div>
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.8rem; border-bottom: 1px solid var(--border); padding-bottom: 8px;">
                                <span>Identity Guard (JWT)</span>
                                <span style="color: var(--success);">STATEFUL SYNC</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Engine Settings Page -->
        <div id="page-settings" class="page" style="display: none;">
            <header>
                <div class="page-title">
                    <p>Global Configuration</p>
                    <h1>SYNAPSE Engine Settings</h1>
                </div>
            </header>
            <div class="controls">
                <div class="section">
                    <div class="section-header">
                        <h2>System Policy</h2>
                    </div>
                    <div style="padding:24px;">
                        <div class="input-group">
                            <label>Protection Mode</label>
                            <select id="protection-mode">
                                <option value="blocking">Active Blocking (Commercial)</option>
                                <option value="monitoring">Monitoring Only (Evasion Detection)</option>
                                <option value="stealth">Stealth Mode (Socket Destroy)</option>
                                <option value="lockdown">Emergency Lockdown</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Upstream Target URL</label>
                            <input type="text" id="target-url" placeholder="http://internal-app:5000">
                        </div>
                        <div class="input-group">
                            <label>Blocked Geographies (ISO Codes)</label>
                            <input type="text" id="blocked-countries" placeholder="CN, RU, KP">
                        </div>
                        <button onclick="saveEngineConfig()">Synchronize Global Policy</button>
                    </div>
                </div>

                <div class="section">
                    <div class="section-header">
                        <h2>Network Security (L3/L4)</h2>
                    </div>
                    <div style="padding:24px;">
                        <div class="input-group">
                            <label>Allowed Inbound Ports (Comma Separated)</label>
                            <input type="text" id="allowed-ports" placeholder="80, 443, 3000">
                        </div>
                        <div class="input-group">
                            <label>Blocked IP Subnets/Ranges (CIDR)</label>
                            <input type="text" id="blocked-subnets" placeholder="192.168.1.0/24, 10.0.0.0/8">
                        </div>
                        <button onclick="saveEngineConfig()">Apply Network Rules</button>
                    </div>
                </div>
                <div class="section">
                    <div class="section-header">
                        <h2>Infrastructure Status</h2>
                    </div>
                    <div style="padding:24px; font-size: 0.85rem; line-height: 2;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Reverse Proxy:</span>
                            <span style="color: var(--accent);">STABLE</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Neural Core:</span>
                            <span style="color: var(--accent);">v3.1_PROD</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-secondary);">Memory Usage:</span>
                            <span style="color: var(--text-primary);">124MB / 512MB</span>
                        </div>
                        <hr style="border: none; border-top: 1px solid var(--border); margin: 15px 0;">
                        <p style="color: var(--text-muted); font-size: 0.75rem;">
                            All system changes are logged to the forensic audit log immediately upon synchronization.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="dashboard.js"></script>
</body>

</html>